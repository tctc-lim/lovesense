<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Read Blogs</title>
    <link rel="stylesheet" href="../css/dashboard.css">
    <link rel="stylesheet" href="../css/mediaquery.css">
    <link rel="stylesheet" href="../assets/fontawesome/css/all.css">
    <script src="../js/dashboard.js"></script>
    <script src="https://cdn.tiny.cloud/1/uhe3odlme9v44d3l3usxdv9qizug88pw3tgvum72ns5dr0el/tinymce/7/tinymce.min.js"
    referrerpolicy="origin"></script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        tinymce.init({
            selector: "textarea",
            plugins: "link image table lists",
            toolbar: "undo redo | styleselect | bold italic | alignleft aligncenter alignright | image link",
            automatic_uploads: true,
            file_picker_types: "image",
        });
    });
</script>
</head>

<body>
    <div class="nav">
        <div class="menu-bar">
            <i class="fa-solid fa-bars"></i>
        </div>
        <a href="/dashboard/index.html" class="nav-links">
            <i class="fa-solid fa-house-user"></i>
            <p>Home</p>
        </a>
        <hr />
        <a href="/dashboard/my-blogs.html" class="nav-links">
            <i class="fa-solid fa-blog"></i>
            <p>My Blogs</p>
        </a>
        <hr />
        <a href="/dashboard/add-blog.html" class="nav-links">
            <i class="fa-solid fa-plus"></i>
            <p>New Blog</p>
        </a>
        <hr />
        <div id="userstab">
            <a href="/dashboard/users.html" class="nav-links" id="usersTab">
                <i class="fa-solid fa-users"></i>
                <p>Users</p>
            </a>
            <hr />
        </div>
        <a href="../login.html" class="nav-links">
            <i class="fa-solid fa-arrow-right-from-bracket"></i>
            <p>Logout</p>
        </a>
    </div>
    <div id="dashboard">
        <div class="top-bar">
            <img src="../images/logos/logo2.png" alt="logo" class="logo" width="150px">
            <h1 class="user">Welcome,<p id="loggedinuser"></p>
        </div>
        <div class="bottom-bar">
            <div class="blog-container">
                <div class="user-bar">
                    <p>My Blog</p>
                </div>
                <div id="blogTable"></div>
                <div id="paginationControls"></div> <!-- Pagination Here -->
            </div>
        </div>
    </div>


    <div id="editBlogModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeEditModal()">&times;</span>
            <h2>Edit Blog</h2>
            <form id="editBlogForm">
                <input type="hidden" id="editBlogId">
                <label for="editTitle">Title:</label>
                <input type="text" id="editTitle" required>

                <label for="editReadTime">Read Time:</label>
                <input type="text" id="editReadTime" required>

                <label for="editContent1">Content 1:</label>
                <textarea id="editContent1"></textarea>

                <label for="editContent2">Content 2:</label>
                <textarea id="editContent2"></textarea>

                <label for="editTag1">Tag 1:</label>
                <input type="text" id="editTag1">

                <label for="editTag2">Tag 2:</label>
                <input type="text" id="editTag2">

                <label for="editTag3">Tag 3:</label>
                <input type="text" id="editTag3">

                <label for="editStatus">Status:</label>
                <select id="editStatus">
                    <option value="PENDING">Pending</option>
                    <option value="COMPLETED">Completed</option>
                </select>

                <label for="editImage1">First Image:</label>
                <input type="file" id="editImage1" onchange="previewImage(event, 'editPreview1')">
                <img id="editPreview1" src="" alt="Preview" style="width: 100px; height: auto;">

                <label for="editImage2">Second Image:</label>
                <input type="file" id="editImage2" onchange="previewImage(event, 'editPreview2')">
                <img id="editPreview2" src="" alt="Preview" style="width: 100px; height: auto;">

                <button type="submit">Save Changes</button>
            </form>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteBlogModal" class="modal">
        <div class="modal-content">
            <h2 class="deleteTitle">Are you sure?</h2>
            <p>This action cannot be undone. Do you want to delete this blog?</p>
            <button id="confirmDeleteButton" class="confirm-delete" onclick="confirmDelete()">Yes, Delete</button>
            <button onclick="closeDeleteModal()" class="confirm-cancel">Cancel</button>
        </div>
    </div>

    <script src="../js/blogs.js"></script>
</body>

</html>